try {
  let e =
      'undefined' != typeof window
        ? window
        : 'undefined' != typeof global
          ? global
          : 'undefined' != typeof globalThis
            ? globalThis
            : 'undefined' != typeof self
              ? self
              : {},
    t = new e.Error().stack;
  t &&
    ((e._sentryDebugIds = e._sentryDebugIds || {}),
    (e._sentryDebugIds[t] = 'f8ca0d13-02ae-4b38-9204-5537737c0cd5'),
    (e._sentryDebugIdIdentifier = 'sentry-dbid-f8ca0d13-02ae-4b38-9204-5537737c0cd5'));
} catch (e) {}
(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([
  [705],
  {
    3699: function (e, t, r) {
      Promise.resolve().then(r.bind(r, 115)),
        Promise.resolve().then(r.bind(r, 43609)),
        Promise.resolve().then(r.bind(r, 49482)),
        Promise.resolve().then(r.t.bind(r, 23293, 23)),
        Promise.resolve().then(r.bind(r, 9009)),
        Promise.resolve().then(r.bind(r, 30726)),
        Promise.resolve().then(r.bind(r, 95955)),
        Promise.resolve().then(r.bind(r, 59586)),
        Promise.resolve().then(r.bind(r, 68843)),
        Promise.resolve().then(r.bind(r, 1017)),
        Promise.resolve().then(r.bind(r, 87859)),
        Promise.resolve().then(r.bind(r, 61837)),
        Promise.resolve().then(r.bind(r, 71338)),
        Promise.resolve().then(r.bind(r, 38662)),
        Promise.resolve().then(r.bind(r, 87251)),
        Promise.resolve().then(r.bind(r, 84125)),
        Promise.resolve().then(r.bind(r, 16903)),
        Promise.resolve().then(r.bind(r, 40408)),
        Promise.resolve().then(r.bind(r, 10827)),
        Promise.resolve().then(r.bind(r, 48634)),
        Promise.resolve().then(r.bind(r, 95919)),
        Promise.resolve().then(r.bind(r, 15862)),
        Promise.resolve().then(r.bind(r, 14978)),
        Promise.resolve().then(r.bind(r, 62763)),
        Promise.resolve().then(r.bind(r, 71324)),
        Promise.resolve().then(r.bind(r, 66436)),
        Promise.resolve().then(r.bind(r, 53777)),
        Promise.resolve().then(r.bind(r, 17395)),
        Promise.resolve().then(r.bind(r, 67414)),
        Promise.resolve().then(r.bind(r, 17722)),
        Promise.resolve().then(r.bind(r, 19991)),
        Promise.resolve().then(r.bind(r, 80841)),
        Promise.resolve().then(r.bind(r, 31369)),
        Promise.resolve().then(r.bind(r, 45667)),
        Promise.resolve().then(r.bind(r, 60706)),
        Promise.resolve().then(r.bind(r, 71463)),
        Promise.resolve().then(r.bind(r, 24537)),
        Promise.resolve().then(r.bind(r, 40673)),
        Promise.resolve().then(r.bind(r, 40756)),
        Promise.resolve().then(r.bind(r, 36866)),
        Promise.resolve().then(r.bind(r, 2383)),
        Promise.resolve().then(r.bind(r, 63122)),
        Promise.resolve().then(r.bind(r, 47810)),
        Promise.resolve().then(r.bind(r, 14223)),
        Promise.resolve().then(r.bind(r, 43228)),
        Promise.resolve().then(r.bind(r, 35510)),
        Promise.resolve().then(r.bind(r, 24637)),
        Promise.resolve().then(r.bind(r, 7900)),
        Promise.resolve().then(r.bind(r, 42898)),
        Promise.resolve().then(r.bind(r, 78336)),
        Promise.resolve().then(r.bind(r, 15722)),
        Promise.resolve().then(r.bind(r, 70357)),
        Promise.resolve().then(r.bind(r, 99314)),
        Promise.resolve().then(r.bind(r, 72033)),
        Promise.resolve().then(r.bind(r, 30105)),
        Promise.resolve().then(r.bind(r, 91708)),
        Promise.resolve().then(r.bind(r, 84365)),
        Promise.resolve().then(r.bind(r, 66279)),
        Promise.resolve().then(r.bind(r, 67721)),
        Promise.resolve().then(r.bind(r, 19333)),
        Promise.resolve().then(r.bind(r, 43328)),
        Promise.resolve().then(r.bind(r, 52048)),
        Promise.resolve().then(r.bind(r, 23570)),
        Promise.resolve().then(r.bind(r, 18001)),
        Promise.resolve().then(r.bind(r, 63586)),
        Promise.resolve().then(r.bind(r, 35891)),
        Promise.resolve().then(r.bind(r, 5901)),
        Promise.resolve().then(r.bind(r, 56291)),
        Promise.resolve().then(r.bind(r, 68676)),
        Promise.resolve().then(r.bind(r, 51631)),
        Promise.resolve().then(r.bind(r, 37968)),
        Promise.resolve().then(r.bind(r, 98042)),
        Promise.resolve().then(r.bind(r, 34882)),
        Promise.resolve().then(r.bind(r, 45184)),
        Promise.resolve().then(r.bind(r, 30262)),
        Promise.resolve().then(r.bind(r, 78519)),
        Promise.resolve().then(r.bind(r, 71320)),
        Promise.resolve().then(r.bind(r, 46050)),
        Promise.resolve().then(r.bind(r, 87861)),
        Promise.resolve().then(r.bind(r, 64738)),
        Promise.resolve().then(r.bind(r, 58961)),
        Promise.resolve().then(r.bind(r, 87326)),
        Promise.resolve().then(r.bind(r, 6662)),
        Promise.resolve().then(r.bind(r, 29887)),
        Promise.resolve().then(r.bind(r, 56689)),
        Promise.resolve().then(r.bind(r, 4222)),
        Promise.resolve().then(r.bind(r, 40388)),
        Promise.resolve().then(r.bind(r, 70591)),
        Promise.resolve().then(r.bind(r, 41136)),
        Promise.resolve().then(r.bind(r, 28638)),
        Promise.resolve().then(r.bind(r, 56702)),
        Promise.resolve().then(r.bind(r, 94337)),
        Promise.resolve().then(r.bind(r, 16690)),
        Promise.resolve().then(r.bind(r, 93141));
    },
    115: function (e, t, r) {
      'use strict';
      r.d(t, {
        default: function () {
          return tn;
        },
      });
      var n = r(78286),
        i = r(58258),
        a = r(54655),
        o = r(53863),
        l = r(3712),
        s = r(89991),
        d = r(70064),
        c = r(95284),
        u = r(88),
        v = r(40252),
        m = r(12556),
        p = r(99971),
        h = r(82078),
        g = r(62239),
        y = r(35047),
        f = r(16820),
        b = (0, i.memo)((e) => {
          var t;
          let { protocolPosition: r, operation: o, errors: l } = e,
            { targetChainId: d } = (0, s.Z_)(),
            { migratablePosition: c, mostYieldingVault: u } = r,
            v = m.FW.getProtocol({ name: c.protocol, chainId: d }),
            p = (0, i.useMemo)(() => (0, m.wk)(u.asset), [u.asset]),
            h = (0, i.useMemo)(
              () => a.$0l.percent.digits(2).unit('%').of(c.supplyApy),
              [c.supplyApy]
            );
          return (0, n.BX)(a.soA.Root, {
            width: '100%',
            height: '257px',
            children: [
              (0, n.BX)(a.soA.Header, {
                children: [
                  (0, n.tZ)(a.qEK, { size: 'large', src: v.imageSrc }),
                  (0, n.tZ)(a.Kqy, {
                    direction: 'column',
                    gap: 'xs',
                    children: (0, n.tZ)(a.xvT.Title.XS, { children: v.name }),
                  }),
                ],
              }),
              (0, n.BX)(a.soA.List, {
                children: [
                  (0, n.tZ)(a.soA.ListItem, {
                    warning: null == l ? void 0 : l.supplyError,
                    label: 'Supply ('.concat(
                      (0, y.formatLongString)(null !== (t = p.symbol) && void 0 !== t ? t : '', 15),
                      ')'
                    ),
                    value: (0, n.tZ)(a.soA.ValueChange, {
                      initialProps: { value: c.max.value },
                      finalProps: { value: c.max.value - o.assets },
                      formatter: (e) =>
                        (0, f.sL)({
                          price: p.price,
                          amount: e,
                          decimals: p.decimals,
                          withTrailingZero: !1,
                        }),
                    }),
                  }),
                  (0, n.tZ)(a.soA.ListItem, {
                    label: 'APY',
                    value: (0, n.tZ)(a.soA.Value, { value: h }),
                  }),
                ],
              }),
            ],
          });
        }),
        x = r(73057),
        Z = r(83897),
        w = r(12472),
        P = (0, i.memo)((e) => {
          var t, r, o, l, d, c, u, v, p;
          let { operation: h, localSimulationResult: g, vault: y, loading: b } = e,
            { targetChainId: P, account: A } = (0, s.Z_)(),
            X = (0, i.useMemo)(
              () => (0, m.wk)(null == y ? void 0 : y.asset),
              [null == y ? void 0 : y.asset]
            ),
            T = (0, Z.M)(
              h.vaultAddress,
              null == y ? void 0 : y.state,
              null == y ? void 0 : y.asset
            ),
            C = (0, a.vmq)({
              chainId: P,
              vaultAddress: h.vaultAddress,
              allocation:
                null == y ? void 0 : null === (t = y.state) || void 0 === t ? void 0 : t.allocation,
            }),
            { initialData: B } = (0, x.Z)(A.address, g, h.vaultAddress, X),
            S = (0, i.useMemo)(() => {
              var e;
              if (!b) return null !== (e = B.position) && void 0 !== e ? e : 0n;
            }, [B.position, b]),
            k = (0, i.useMemo)(() => {
              var e;
              if (!b) return (null !== (e = B.position) && void 0 !== e ? e : 0n) + h.assets;
            }, [B.position, h.assets, b]);
          return y && null != h.assets && X
            ? (0, n.tZ)(w.Z, {
                vault: {
                  rewards: T,
                  points: C,
                  allocation:
                    null !== (u = null === (r = y.state) || void 0 === r ? void 0 : r.allocation) &&
                    void 0 !== u
                      ? u
                      : [],
                  address: y.address,
                  name: y.name,
                  dailyApy: null === (o = y.state) || void 0 === o ? void 0 : o.dailyApy,
                  dailyNetApy: null === (l = y.state) || void 0 === l ? void 0 : l.dailyNetApy,
                  fee: null === (d = y.state) || void 0 === d ? void 0 : d.fee,
                  curators:
                    null !==
                      (v = null === (c = y.metadata) || void 0 === c ? void 0 : c.curators) &&
                    void 0 !== v
                      ? v
                      : [],
                  warnings: null !== (p = y.warnings) && void 0 !== p ? p : [],
                  asset: X,
                },
                initialPosition: S,
                finalPosition: k,
              })
            : (0, n.tZ)(a.SKT, {
                height: '282px',
                text: 'Cannot display interaction with vault '.concat((0, f.Tg)(h.vaultAddress)),
              });
        }),
        A = r(22683),
        X = r(34896),
        T = r(89805),
        C = r(75147),
        B = r(34550),
        S = r(17965),
        k = r(33764),
        R = r(82803),
        I = r(4205);
      let M = (e) => {
          let { vaultAddress: t, position: r } = e,
            {
              operation: n,
              index: a,
              isNew: o,
              error: l,
            } = (0, i.useMemo)(
              () => ({
                isNew: !0,
                index: 0,
                operation: {
                  id: crypto.randomUUID(),
                  type: R.H.InterfaceOperationType.migrateSupply,
                  vaultAddress: t,
                  assets: 0n,
                  shares: 0n,
                  position: r,
                  options: { isMax: [], disabledPeripheralTokens: new Set() },
                },
                error: void 0,
              }),
              [t, r]
            ),
            s = (0, I.f)(a),
            d = (0, I.f)(a + 1);
          return { operation: n, index: a, isNew: o, error: l, initialState: s, finalState: d };
        },
        L = (e) => {
          var t, r, n, o;
          let { vaultAddress: l, position: d, initialOperation: c } = e,
            { account: u, targetChainId: p } = (0, s.Z_)(),
            {
              operation: h,
              initialState: g,
              finalState: f,
              isNew: b,
            } = M({ vaultAddress: l, position: d }),
            [x, Z] = (0, i.useState)(
              null !== (t = null == c ? void 0 : c.assets) && void 0 !== t ? t : 0n
            ),
            [w, P] = (0, i.useState)(
              null !== (r = null == c ? void 0 : c.shares) && void 0 !== r ? r : 0n
            ),
            [A, X] = (0, i.useState)(
              null !==
                (o =
                  null !==
                    (n =
                      null == c
                        ? void 0
                        : c.options.isMax.includes(R.H.InterfaceOperationType.migrateSupply)) &&
                  void 0 !== n
                    ? n
                    : h.options.isMax.includes(R.H.InterfaceOperationType.migrateSupply)) &&
                void 0 !== o &&
                o
            ),
            T = (0, i.useMemo)(
              () => ({
                type: R.H.InterfaceOperationType.migrateSupply,
                position: d,
                vaultAddress: l,
                assets: x,
                shares: w,
                id: h.id,
                options: { isMax: [R.H.InterfaceOperationType.migrateSupply] },
              }),
              [x, h.id, w, l, d]
            ),
            C = (0, i.useMemo)(
              () => (0, m.wk)(null == d ? void 0 : d.mostYieldingVault.asset),
              [d]
            ),
            B = (0, i.useMemo)(() => {
              if (d) return m.FW.getProtocol({ name: d.migratablePosition.protocol, chainId: p });
            }, [d, p]),
            I = (0, i.useMemo)(() => {
              var e, t;
              if (g)
                return null === (t = g.data) || void 0 === t
                  ? void 0
                  : null === (e = t.tryGetAccrualVault(l)) || void 0 === e
                    ? void 0
                    : e.accrueInterest(g.data.block.timestamp);
            }, [g, l]),
            L = (0, i.useMemo)(() => {
              if (!u.address || !g || !I || !d) return;
              let e = I.getDepositCapacityLimit(d.migratablePosition.max.value);
              return e.limiter === v.CapacityLimitReason.cap
                ? { value: e.value, limiter: v.CapacityLimitReason.cap }
                : d.migratablePosition.max;
            }, [u.address, g, I, d]),
            q = (0, i.useMemo)(() => {
              if (d && C && L && x > L.value) {
                let e = a.$0l.commas.digits(2).unit(C.symbol).of(L.value, C.decimals);
                switch (L.limiter) {
                  case k.SupplyMigrationLimiter.position:
                    return {
                      reason: k.SupplyMigrationLimiter.position,
                      message: 'Limited by balance: '.concat(e),
                      level: S.WarningLevel.Red,
                      color: 'text.interactive.error',
                    };
                  case v.CapacityLimitReason.cap:
                    return {
                      reason: v.CapacityLimitReason.cap,
                      message: "Limited by vault's caps: ".concat(e),
                      level: S.WarningLevel.Red,
                      color: 'text.interactive.error',
                    };
                  case k.SupplyMigrationLimiter.liquidity:
                    return {
                      reason: k.SupplyMigrationLimiter.liquidity,
                      message: 'Limited by liquidity on '
                        .concat(null == B ? void 0 : B.name, ': ')
                        .concat(e),
                      level: S.WarningLevel.Red,
                      color: 'text.interactive.error',
                    };
                }
                return {
                  reason: void 0,
                  message: 'Max: '.concat(e),
                  level: S.WarningLevel.Red,
                  color: 'text.interactive.error',
                };
              }
            }, [d, C, L, x, null == B ? void 0 : B.name]),
            E = (0, i.useMemo)(() => {
              if (void 0 !== I && void 0 !== C)
                return 0n === x
                  ? null
                  : {
                      amount: x,
                      vault: I.address,
                      minShares: v.MathLib.wMulDown(
                        I.toShares(x, 'Down'),
                        v.MathLib.WAD - v.DEFAULT_SLIPPAGE_TOLERANCE
                      ),
                      maxSharePrice: I.toAssets(
                        v.MathLib.wToRay(v.MathLib.WAD + v.DEFAULT_SLIPPAGE_TOLERANCE)
                      ),
                    };
            }, [x, C, I]),
            N = (0, i.useMemo)(() => {
              if (!(!d || !E || (0, y.isDefined)(q)))
                return d.migratablePosition.getMigrationTx(
                  E,
                  !u.isContract && !!(null == B ? void 0 : B.supportSignature)
                );
            }, [d, E, q, u.isContract, null == B ? void 0 : B.supportSignature]),
            K = (0, m.nR)({
              isFetching: g.isFetchingAny || g.isPending,
              dependencies: [u.isConnected],
              requiredData: [null == L ? void 0 : L.value],
            }),
            _ = (0, i.useCallback)((e) => {
              X(!1), Z(e), P(0n);
            }, []),
            D = (0, i.useCallback)(
              (e) => {
                if (e) {
                  if ((null == L ? void 0 : L.value) == null) return;
                  Z(L.value);
                  let e = null == I ? void 0 : I.toShares(L.value, 'Down');
                  if (null == e) return;
                  P(e);
                }
                X(e);
              },
              [L, I]
            );
          return {
            isLoading: K,
            localOperation: T,
            initialState: g,
            finalState: f,
            inputError: q,
            args: E,
            amountToMigrate: x,
            isNew: b,
            isMax: A,
            maxMigratable: L,
            bundle: N,
            setInputAmount: _,
            setIsMax: D,
          };
        };
      var q = r(25596),
        E = r(76280),
        N = r(4565),
        K = r(34571),
        _ = r(99503),
        D = r(55872);
      let O = [
          {
            id: 'vault',
            header: () =>
              (0, n.tZ)(a.xvT.Body.XXXS.Regular, {
                marginLeft: '12px',
                color: 'text.secondary',
                children: 'Vault',
              }),
            cell: (e) => {
              let { row: t } = e;
              return (0, n.BX)(a.Kqy, {
                gap: 'xs',
                align: 'center',
                'data-testid': 'vault-cell-'.concat(t.original.vault.address.toLowerCase()),
                children: [
                  (0, n.tZ)(a.DU6, {
                    ...t.original.vault,
                    chainId: t.original.chainId,
                    maxLength: 22,
                    TextVariant: a.xvT.Body.XXS.Regular,
                  }),
                  t.original.isSelected &&
                    (0, n.tZ)(a.JO$, { icon: 'CheckPlain20', color: 'text.body' }),
                ],
              });
            },
            accessorFn: (e) => e.vault.name,
            sortingFn: (e, t) => e.original.vault.name.localeCompare(t.original.vault.name),
          },
          {
            id: 'riskCurator',
            header: () =>
              (0, n.tZ)(a.xvT.Body.XXXS.Regular, {
                marginLeft: '12px',
                color: 'text.secondary',
                children: 'Risk Curator',
              }),
            cell: (e) => {
              var t, r;
              let { row: i } = e;
              return (0, n.tZ)(a.$xj, {
                items:
                  null !==
                    (r =
                      null === (t = i.original.vault.metadata) || void 0 === t
                        ? void 0
                        : t.curators.map((e) => ({ logoUrl: e.image }))) && void 0 !== r
                    ? r
                    : [],
                maxTokensCount: 3,
                align: 'right',
              });
            },
            accessorFn: (e) => {
              var t;
              return null === (t = e.vault.metadata) || void 0 === t ? void 0 : t.curators;
            },
          },
          {
            id: 'liquidity',
            header: () =>
              (0, n.tZ)(a.xvT.Body.XXXS.Regular, {
                color: 'text.secondary',
                children: 'Liquidity',
              }),
            cell: (e) => {
              let { row: t } = e;
              return (0, n.tZ)(a.UuD, {
                TextVariant: a.xvT.Body.XXS.Regular,
                token: t.original.vault.asset,
                amount: t.original.assets.assets,
                value: t.original.assets.assetsUsd,
              });
            },
            accessorFn: (e) => e.assets.assetsUsd,
          },
          {
            id: 'Collateral',
            header: () =>
              (0, n.tZ)(a.xvT.Body.XXXS.Regular, {
                color: 'text.secondary',
                children: 'Collateral',
              }),
            cell: (e) => {
              let { row: t } = e;
              return (0, n.tZ)(D.m, {
                collateralExposures: t.original.collateralExposures.collateralExposures,
                targetChainId: t.original.chainId,
                maxTokensCount: 4,
              });
            },
            accessorFn: (e) => e.collateralExposures.collateralExposures,
          },
          {
            id: 'apy',
            header: () =>
              (0, n.tZ)(a.xvT.Body.XXXS.Regular, { color: 'text.secondary', children: 'APY' }),
            cell: (e) => {
              let { row: t } = e;
              return (0, n.tZ)(K.Z, {
                rewards: t.original.netApy.rewards,
                netApy: t.original.netApy.netApy,
                apy: t.original.netApy.dailyApy,
                performanceFee: t.original.netApy.performanceFee,
                variant: 'vault',
                points: t.original.netApy.points,
                TextVariant: a.xvT.Body.XXS.Regular,
                withBackgroundEffect: !1,
              });
            },
            accessorFn: (e) => e.netApy.netApy,
          },
        ],
        U = [
          {
            id: 'vault',
            header: () =>
              (0, n.tZ)(a.xvT.Body.XXXS.Regular, {
                marginLeft: '12px',
                color: 'text.secondary',
                children: 'Vault',
              }),
            cell: (e) => {
              var t;
              let { row: r } = e;
              return (0, n.BX)(a.Kqy, {
                direction: 'row',
                gap: 'xs',
                align: 'center',
                wrap: 'wrap',
                style: { marginBlock: '12px' },
                children: [
                  (0, n.tZ)(a.DU6, {
                    ...r.original.vault,
                    chainId: r.original.chainId,
                    TextVariant: a.xvT.Body.XXS.Regular,
                    maxLength: 22,
                  }),
                  (0, n.tZ)(_.Z, {
                    curators:
                      null === (t = r.original.vault.metadata) || void 0 === t
                        ? void 0
                        : t.curators,
                    TextVariant: a.xvT.Body.XXS.Regular,
                    chainId: r.original.chainId,
                  }),
                  (0, n.tZ)(a.UuD, {
                    withAvatar: !0,
                    token: r.original.vault.asset,
                    amount: r.original.assets.assets,
                    value: r.original.assets.assetsUsd,
                    TextVariant: a.xvT.Body.XXS.Regular,
                  }),
                  (0, n.tZ)(K.Z, {
                    netApy: r.original.netApy.netApy,
                    apy: r.original.netApy.dailyApy,
                    performanceFee: r.original.netApy.performanceFee,
                    rewards: r.original.netApy.rewards,
                    variant: 'vault',
                    points: r.original.netApy.points,
                    TextVariant: a.xvT.Body.XXS.Regular,
                    isHoverable: !1,
                  }),
                  (0, n.tZ)(D.m, {
                    collateralExposures: r.original.collateralExposures.collateralExposures,
                    targetChainId: r.original.chainId,
                    maxTokensCount: 4,
                  }),
                ],
              });
            },
          },
        ];
      var V = r(9834),
        W = r(73828),
        j = (e) => {
          let { vaults: t, selectedVaultAddress: r, searchQuery: n } = e,
            { targetChainId: o } = (0, s.Z_)();
          return (0, i.useMemo)(
            () =>
              t
                ? t
                    .filter((e) => (0, a.Uaj)(e.name).toLowerCase().includes(n.toLowerCase()))
                    .map((e) => {
                      var t, n, i, l, s, d, c, u, v, p, h;
                      let g = (0, W.pf)(e.address, e.state, e.asset, o),
                        f = (0, m.wk)(e.asset),
                        b = (0, a.BwX)(
                          o,
                          e.address,
                          null === (t = e.state) || void 0 === t ? void 0 : t.allocation
                        ),
                        x = (0, V.m)(
                          null === (n = e.state) || void 0 === n ? void 0 : n.allocation
                        ),
                        Z = (0, y.isDefined)(e.warnings) ? (0, a.Myy)(e.warnings) : void 0,
                        w = (null === (i = e.state) || void 0 === i ? void 0 : i.totalAssetsUsd)
                          ? (0, N.safeParseNumber)(
                              null === (l = e.state) || void 0 === l ? void 0 : l.totalAssetsUsd
                            )
                          : void 0,
                        P = (null === (s = e.state) || void 0 === s ? void 0 : s.dailyApy)
                          ? (0, N.safeParseNumber)(
                              null === (d = e.state) || void 0 === d ? void 0 : d.dailyApy
                            )
                          : void 0,
                        A = (null === (c = e.state) || void 0 === c ? void 0 : c.dailyNetApy)
                          ? (0, N.safeParseNumber)(
                              null === (u = e.state) || void 0 === u ? void 0 : u.dailyNetApy
                            )
                          : void 0,
                        X = (null === (v = e.state) || void 0 === v ? void 0 : v.fee)
                          ? (0, N.safeParseNumber)(
                              null === (p = e.state) || void 0 === p ? void 0 : p.fee
                            )
                          : void 0;
                      return {
                        vault: { ...e, asset: f },
                        assets: {
                          assetsUsd: w,
                          assets: null === (h = e.state) || void 0 === h ? void 0 : h.totalAssets,
                          asset: f,
                          vaultAddress: e.address,
                        },
                        collateralExposures: { collateralExposures: x, warnings: Z },
                        netApy: {
                          netApy: A,
                          dailyApy: P,
                          performanceFee: X,
                          rewards: g,
                          points: b,
                        },
                        isSelected: e.address === r,
                        chainId: o,
                      };
                    })
                    .sort((0, y.bigIntComparator)((e) => e.assets.assetsUsd, 'desc'))
                : [],
            [t, r, o, n]
          );
        },
        H = (0, i.memo)((e) => {
          var t, r, o, l, d, c, u, v;
          let {
              isOpen: m,
              isLoading: p,
              vaults: h,
              selectedVault: g,
              searchQuery: f,
              onOpenChange: b,
              onSelect: x,
              setSearchQuery: w,
            } = e,
            { targetChainId: P } = (0, s.Z_)(),
            A = (0, a.CPt)(),
            X = j({
              vaults: h,
              selectedVaultAddress: null == g ? void 0 : g.address,
              searchQuery: f,
            }),
            T = (0, i.useMemo)(() => (A ? U : O), [A]),
            C = (0, i.useMemo)(() => !h || (null == h ? void 0 : h.length) < 2, [h]),
            B = (0, i.useMemo)(() => {
              if (!g) return '';
              let e = (0, a.Uaj)(g.name);
              return e ? (0, y.formatLongString)(e) : '';
            }, [g]),
            S = (0, Z.M)(g.address, g.state, g.asset),
            k = (0, a.vmq)({
              vaultAddress: g.address,
              chainId: P,
              allocation: null === (t = g.state) || void 0 === t ? void 0 : t.allocation,
            }),
            R = (0, i.useMemo)(() => {
              var e, t;
              return (0, N.safeParseNumber)(
                null !== (t = null === (e = g.state) || void 0 === e ? void 0 : e.dailyNetApy) &&
                  void 0 !== t
                  ? t
                  : 0
              );
            }, [null === (r = g.state) || void 0 === r ? void 0 : r.dailyNetApy]),
            I = (0, i.useMemo)(() => {
              var e, t;
              return (0, N.safeParseNumber)(
                null !== (t = null === (e = g.state) || void 0 === e ? void 0 : e.dailyApy) &&
                  void 0 !== t
                  ? t
                  : 0
              );
            }, [null === (o = g.state) || void 0 === o ? void 0 : o.dailyApy]),
            M = (0, i.useMemo)(() => {
              var e, t;
              return (0, N.safeParseNumber)(
                null !== (t = null === (e = g.state) || void 0 === e ? void 0 : e.fee) &&
                  void 0 !== t
                  ? t
                  : 0
              );
            }, [null === (l = g.state) || void 0 === l ? void 0 : l.fee]),
            L = (0, i.useMemo)(() => {
              var e, t;
              return (0, N.safeParseNumber)(
                null !== (t = null === (e = g.state) || void 0 === e ? void 0 : e.totalAssetsUsd) &&
                  void 0 !== t
                  ? t
                  : 0
              );
            }, [null === (d = g.state) || void 0 === d ? void 0 : d.totalAssetsUsd]);
          return p
            ? (0, n.tZ)(a.OdW, { width: '150px', height: '45px', borderRadius: '20px' })
            : (0, n.tZ)(a.Kqy, {
                direction: 'row',
                width: 'full',
                align: 'center',
                children: (0, n.BX)(a.Ce2.Root, {
                  open: m,
                  onOpenChange: b,
                  children: [
                    (0, n.BX)(a.Kqy, {
                      direction: 'column',
                      gap: 'xs',
                      flex: 1,
                      children: [
                        (0, n.tZ)(a.xvT.Body.XXS.Regular, {
                          color: 'text.secondary',
                          shortenByWidth: 320,
                          children: 'Select vault',
                        }),
                        (0, n.tZ)(a.Ce2.Trigger, {
                          children: (0, n.tZ)(a.zxk, {
                            disabled: C,
                            style: { width: 'fit-content' },
                            loading: p,
                            variant: 'secondary',
                            onClick: () => b(!m),
                            'data-testid': 'select-vault-trigger',
                            children: (0, n.BX)(a.Kqy, {
                              direction: 'row',
                              align: 'center',
                              gap: 's',
                              children: [
                                (0, n.BX)(a.Kqy, {
                                  direction: 'row',
                                  align: 'center',
                                  gap: 'xs',
                                  children: [
                                    (0, n.tZ)(a.qEK, {
                                      src:
                                        null == g
                                          ? void 0
                                          : null === (c = g.asset) || void 0 === c
                                            ? void 0
                                            : c.logoURI,
                                      size: 'medium',
                                    }),
                                    (0, n.tZ)(a.xvT.Body.XXS.Regular, {
                                      shortenByWidth: 320,
                                      children: B,
                                    }),
                                  ],
                                }),
                                !A &&
                                  (null === (v = g.metadata) || void 0 === v
                                    ? void 0
                                    : null === (u = v.curators) || void 0 === u
                                      ? void 0
                                      : u.map((e) =>
                                          (0, n.tZ)(
                                            a.Vp9,
                                            {
                                              variant: 'main',
                                              label: e.name,
                                              startIcon: (0, n.tZ)(a.qEK, {
                                                src: e.image,
                                                size: 'small',
                                                style: { width: 16, height: 16 },
                                              }),
                                            },
                                            e.name
                                          )
                                        )),
                                (0, n.tZ)(a.Vp9, {
                                  variant: 'main',
                                  label: a.$0l.short.digits(2).unit('$').of(L, 18),
                                }),
                                (0, n.tZ)(K.Z, {
                                  rewards: S,
                                  netApy: R,
                                  apy: I,
                                  performanceFee: M,
                                  variant: 'vault',
                                  points: k,
                                  TextVariant: a.xvT.Body.XXXS.Regular,
                                  isHoverable: !0,
                                  withBackgroundEffect: !1,
                                }),
                                (0, n.tZ)(a.JO$, {
                                  icon: 'ChevronPlain20',
                                  style: {
                                    transition: 'transform 0.2s ease-in-out',
                                    transform: m ? 'rotate(180deg)' : 'rotate(0deg)',
                                  },
                                }),
                              ],
                            }),
                          }),
                        }),
                      ],
                    }),
                    (0, n.tZ)(a.Ce2.Portal, {
                      children: (0, n.BX)(a.Ce2.Content, {
                        side: 'bottom',
                        sideOffset: 2,
                        align: 'start',
                        width: 'min(775px, 90vw)',
                        children: [
                          (0, n.tZ)(a.Ce2.SearchBar, {
                            placeholder: 'Search vaults',
                            value: f,
                            onChange: (e) => w(e.target.value),
                          }),
                          (0, n.tZ)(a.Ce2.Separator, {}),
                          (0, n.tZ)(a.Ce2.Table, {
                            data: X,
                            columnsDefs: T,
                            columnWidths: ['30%', '120px', '200px', '110px'],
                            onRowClick: (e) => x(e.vault.address),
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
              });
        });
      let F = (e) => {
        var t, r, l, c, u;
        let { position: y, initialOperation: f } = e,
          x = (0, a.CPt)(),
          { mostYieldingVault: Z, compatibleVaults: w } = y,
          {
            bundlerConfiguration: S,
            simulationError: k,
            isPending: R,
            blockError: I,
            config: { addToSimulationState: M },
          } = (0, A.N)(),
          { setActiveBundle: N } = (0, C.H)(),
          { toggleDialog: K } = (0, a.DAv)(),
          { account: _ } = (0, s.Z_)(),
          [D, O] = (0, i.useState)(''),
          [U, V] = (0, i.useState)(!1),
          [W, j] = (0, i.useState)(
            null !==
              (l =
                null !== (r = null == f ? void 0 : f.vaultAddress) && void 0 !== r
                  ? r
                  : null === (t = w[0]) || void 0 === t
                    ? void 0
                    : t.address) && void 0 !== l
              ? l
              : Z.address
          ),
          z = (0, i.useMemo)(() => w.find((e) => e.address === W), [w, W]),
          $ = (0, E.q)(z),
          G = (0, i.useMemo)(() => (0, m.wk)(Z.asset), [Z.asset]),
          {
            localOperation: Y,
            inputError: Q,
            maxMigratable: J,
            amountToMigrate: ee,
            isMax: et,
            isLoading: er,
            initialState: en,
            isNew: ei,
            bundle: ea,
            setInputAmount: eo,
            setIsMax: el,
          } = L({ vaultAddress: W, position: y, initialOperation: f }),
          [es] = (0, T._)(en.data, Y, S, ei),
          ed = (0, q.oP)({
            address: W,
            error: null == Q ? void 0 : Q.message,
            isWrongChain: _.isWrongChain,
            chainId:
              null !== (c = null == z ? void 0 : z.chain.id) && void 0 !== c
                ? c
                : v.ChainId.EthMainnet,
          }),
          ec = (0, B.Z)(
            'migration',
            0n === ee,
            !0,
            !0,
            null !== (u = null == Q ? void 0 : Q.message) && void 0 !== u ? u : void 0,
            [],
            k,
            I,
            R,
            _.isWrongChain,
            !1
          ),
          eu = (0, i.useMemo)(
            () =>
              (I && R) ||
              !!(null == Q ? void 0 : Q.message) ||
              !!k ||
              !(0, X.H)(Y) ||
              _.isWrongChain,
            [I, R, null == Q ? void 0 : Q.message, k, Y, _.isWrongChain]
          ),
          ev = (0, i.useCallback)(() => {
            K(!1);
          }, [K]),
          em = (0, i.useCallback)(() => {
            K(
              (0, n.tZ)(p.sG, {
                operations: [Y],
                headerActionSlot: (0, n.tZ)(a.zxk, {
                  variant: 'ghost',
                  iconRight: 'EditPlain20',
                  label: 'Edit migration',
                  onClick: () => {
                    K(
                      (0, n.tZ)(d.Z, {
                        fallback: (0, n.tZ)(o.c, {}),
                        children: (0, n.tZ)(F, {
                          'data-testid': 'migration-dialog',
                          position: y,
                          initialOperation: Y,
                        }),
                      }),
                      { maxWidth: x ? void 0 : '900px', fullSize: x }
                    );
                  },
                }),
                onConfirm: () => {
                  (null == ea ? void 0 : ea.actions) &&
                    (N(ea, [Y]), K((0, n.tZ)(h.h, {}), { closable: !1 }));
                },
              })
            );
          }, [Y, ea, K, N, x, y]),
          ep = (0, i.useCallback)(
            (e) => {
              j(e), V(!1), eo(0n), el(!1);
            },
            [j, V, eo, el]
          );
        return (
          (0, i.useEffect)(() => {
            M($);
          }, [$, M]),
          (0, n.tZ)(g.Do, {
            title: 'Migrate Position',
            size: 'small',
            topSlot: (0, n.tZ)(n.HY, {
              children: z
                ? (0, n.tZ)(H, {
                    isOpen: U,
                    vaults: w,
                    selectedVault: z,
                    searchQuery: D,
                    setSearchQuery: O,
                    onOpenChange: V,
                    onSelect: ep,
                  })
                : (0, n.tZ)(a.OdW, { width: 'full', height: '59px', borderRadius: '20px' }),
            }),
            inputSlots: [
              (0, n.tZ)(
                a.TGk,
                {
                  fullWidth: !0,
                  token: G,
                  amount: ee,
                  onChange: eo,
                  header: 'Supply amount to migrate',
                  maxValue: null == J ? void 0 : J.value,
                  loading: er,
                  onMaxClick: el,
                  isMax: et,
                  disabled: er,
                },
                G.address
              ),
            ],
            initialPositionSlot: (0, n.tZ)(b, {
              protocolPosition: y,
              operation: Y,
              errors: {
                supplyError:
                  (null == Q ? void 0 : Q.reason) !== v.CapacityLimitReason.cap ? Q : void 0,
              },
            }),
            finalPositionSlot: (0, n.tZ)(P, {
              vault: z,
              operation: Y,
              localSimulationResult: es,
              loading: er,
            }),
            actionSlot: (0, n.tZ)(a.ua7, {
              content: null == ed ? void 0 : ed.message,
              disabled: !ed,
              children: (0, n.tZ)(a.zxk, {
                size: 'big',
                variant: eu ? 'secondary' : 'primary',
                label: ec,
                disabled: eu,
                onClick: em,
                shortenByWidth: 300,
                'data-testid': 'finalize-button',
              }),
            }),
            onClose: ev,
          })
        );
      };
      var z = (0, i.memo)(F),
        $ = r(38819);
      let G = (0, $.Z)('div', { target: 'evxx7d0' })(
        'display:grid;grid-template-columns:repeat(2,1fr);gap:',
        (e) => {
          let { theme: t } = e;
          return t.spacing.m;
        },
        ';',
        (e) => {
          let { theme: t } = e;
          return t.breakpoints.containerDown('content-s');
        },
        '{grid-template-columns:repeat(1,1fr);}'
      );
      var Y = r(31040),
        Q = r(77762),
        J = r(89776),
        ee = r(50488),
        et = r(60174),
        er = r(25205),
        en = r(98255),
        ei = r(6925),
        ea = r(9454),
        eo = r(2547),
        el = r(50256),
        es = 'Collapsible',
        [ed, ec] = (0, Q.b)(es),
        [eu, ev] = ed(es),
        em = i.forwardRef((e, t) => {
          let {
              __scopeCollapsible: r,
              open: n,
              defaultOpen: a,
              disabled: o,
              onOpenChange: l,
              ...s
            } = e,
            [d, c] = (0, er.T)({ prop: n, defaultProp: null != a && a, onChange: l, caller: es });
          return (0, el.jsx)(eu, {
            scope: r,
            disabled: o,
            contentId: (0, eo.M)(),
            open: d,
            onOpenToggle: i.useCallback(() => c((e) => !e), [c]),
            children: (0, el.jsx)(en.WV.div, {
              'data-state': eb(d),
              'data-disabled': o ? '' : void 0,
              ...s,
              ref: t,
            }),
          });
        });
      em.displayName = es;
      var ep = 'CollapsibleTrigger',
        eh = i.forwardRef((e, t) => {
          let { __scopeCollapsible: r, ...n } = e,
            i = ev(ep, r);
          return (0, el.jsx)(en.WV.button, {
            type: 'button',
            'aria-controls': i.contentId,
            'aria-expanded': i.open || !1,
            'data-state': eb(i.open),
            'data-disabled': i.disabled ? '' : void 0,
            disabled: i.disabled,
            ...n,
            ref: t,
            onClick: (0, et.M)(e.onClick, i.onOpenToggle),
          });
        });
      eh.displayName = ep;
      var eg = 'CollapsibleContent',
        ey = i.forwardRef((e, t) => {
          let { forceMount: r, ...n } = e,
            i = ev(eg, e.__scopeCollapsible);
          return (0, el.jsx)(ea.z, {
            present: r || i.open,
            children: (e) => {
              let { present: r } = e;
              return (0, el.jsx)(ef, { ...n, ref: t, present: r });
            },
          });
        });
      ey.displayName = eg;
      var ef = i.forwardRef((e, t) => {
        let { __scopeCollapsible: r, present: n, children: a, ...o } = e,
          l = ev(eg, r),
          [s, d] = i.useState(n),
          c = i.useRef(null),
          u = (0, ee.e)(t, c),
          v = i.useRef(0),
          m = v.current,
          p = i.useRef(0),
          h = p.current,
          g = l.open || s,
          y = i.useRef(g),
          f = i.useRef(void 0);
        return (
          i.useEffect(() => {
            let e = requestAnimationFrame(() => (y.current = !1));
            return () => cancelAnimationFrame(e);
          }, []),
          (0, ei.b)(() => {
            let e = c.current;
            if (e) {
              (f.current = f.current || {
                transitionDuration: e.style.transitionDuration,
                animationName: e.style.animationName,
              }),
                (e.style.transitionDuration = '0s'),
                (e.style.animationName = 'none');
              let t = e.getBoundingClientRect();
              (v.current = t.height),
                (p.current = t.width),
                y.current ||
                  ((e.style.transitionDuration = f.current.transitionDuration),
                  (e.style.animationName = f.current.animationName)),
                d(n);
            }
          }, [l.open, n]),
          (0, el.jsx)(en.WV.div, {
            'data-state': eb(l.open),
            'data-disabled': l.disabled ? '' : void 0,
            id: l.contentId,
            hidden: !g,
            ...o,
            ref: u,
            style: {
              '--radix-collapsible-content-height': m ? ''.concat(m, 'px') : void 0,
              '--radix-collapsible-content-width': h ? ''.concat(h, 'px') : void 0,
              ...e.style,
            },
            children: g && a,
          })
        );
      });
      function eb(e) {
        return e ? 'open' : 'closed';
      }
      var ex = r(79395),
        eZ = 'Accordion',
        ew = ['Home', 'End', 'ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'],
        [eP, eA, eX] = (0, J.B)(eZ),
        [eT, eC] = (0, Q.b)(eZ, [eX, ec]),
        eB = ec(),
        eS = i.forwardRef((e, t) => {
          let { type: r, ...n } = e;
          return (0, el.jsx)(eP.Provider, {
            scope: e.__scopeAccordion,
            children:
              'multiple' === r
                ? (0, el.jsx)(eq, { ...n, ref: t })
                : (0, el.jsx)(eL, { ...n, ref: t }),
          });
        });
      eS.displayName = eZ;
      var [ek, eR] = eT(eZ),
        [eI, eM] = eT(eZ, { collapsible: !1 }),
        eL = i.forwardRef((e, t) => {
          let {
              value: r,
              defaultValue: n,
              onValueChange: a = () => {},
              collapsible: o = !1,
              ...l
            } = e,
            [s, d] = (0, er.T)({
              prop: r,
              defaultProp: null != n ? n : '',
              onChange: a,
              caller: eZ,
            });
          return (0, el.jsx)(ek, {
            scope: e.__scopeAccordion,
            value: i.useMemo(() => (s ? [s] : []), [s]),
            onItemOpen: d,
            onItemClose: i.useCallback(() => o && d(''), [o, d]),
            children: (0, el.jsx)(eI, {
              scope: e.__scopeAccordion,
              collapsible: o,
              children: (0, el.jsx)(eK, { ...l, ref: t }),
            }),
          });
        }),
        eq = i.forwardRef((e, t) => {
          let { value: r, defaultValue: n, onValueChange: a = () => {}, ...o } = e,
            [l, s] = (0, er.T)({
              prop: r,
              defaultProp: null != n ? n : [],
              onChange: a,
              caller: eZ,
            }),
            d = i.useCallback(
              (e) =>
                s(function () {
                  let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                  return [...t, e];
                }),
              [s]
            ),
            c = i.useCallback(
              (e) =>
                s(function () {
                  let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                  return t.filter((t) => t !== e);
                }),
              [s]
            );
          return (0, el.jsx)(ek, {
            scope: e.__scopeAccordion,
            value: l,
            onItemOpen: d,
            onItemClose: c,
            children: (0, el.jsx)(eI, {
              scope: e.__scopeAccordion,
              collapsible: !0,
              children: (0, el.jsx)(eK, { ...o, ref: t }),
            }),
          });
        }),
        [eE, eN] = eT(eZ),
        eK = i.forwardRef((e, t) => {
          let { __scopeAccordion: r, disabled: n, dir: a, orientation: o = 'vertical', ...l } = e,
            s = i.useRef(null),
            d = (0, ee.e)(s, t),
            c = eA(r),
            u = 'ltr' === (0, ex.gm)(a),
            v = (0, et.M)(e.onKeyDown, (e) => {
              var t;
              if (!ew.includes(e.key)) return;
              let r = e.target,
                n = c().filter((e) => {
                  var t;
                  return !(null === (t = e.ref.current) || void 0 === t ? void 0 : t.disabled);
                }),
                i = n.findIndex((e) => e.ref.current === r),
                a = n.length;
              if (-1 === i) return;
              e.preventDefault();
              let l = i,
                s = a - 1,
                d = () => {
                  (l = i + 1) > s && (l = 0);
                },
                v = () => {
                  (l = i - 1) < 0 && (l = s);
                };
              switch (e.key) {
                case 'Home':
                  l = 0;
                  break;
                case 'End':
                  l = s;
                  break;
                case 'ArrowRight':
                  'horizontal' === o && (u ? d() : v());
                  break;
                case 'ArrowDown':
                  'vertical' === o && d();
                  break;
                case 'ArrowLeft':
                  'horizontal' === o && (u ? v() : d());
                  break;
                case 'ArrowUp':
                  'vertical' === o && v();
              }
              null === (t = n[l % a].ref.current) || void 0 === t || t.focus();
            });
          return (0, el.jsx)(eE, {
            scope: r,
            disabled: n,
            direction: a,
            orientation: o,
            children: (0, el.jsx)(eP.Slot, {
              scope: r,
              children: (0, el.jsx)(en.WV.div, {
                ...l,
                'data-orientation': o,
                ref: d,
                onKeyDown: n ? void 0 : v,
              }),
            }),
          });
        }),
        e_ = 'AccordionItem',
        [eD, eO] = eT(e_),
        eU = i.forwardRef((e, t) => {
          let { __scopeAccordion: r, value: n, ...i } = e,
            a = eN(e_, r),
            o = eR(e_, r),
            l = eB(r),
            s = (0, eo.M)(),
            d = (n && o.value.includes(n)) || !1,
            c = a.disabled || e.disabled;
          return (0, el.jsx)(eD, {
            scope: r,
            open: d,
            disabled: c,
            triggerId: s,
            children: (0, el.jsx)(em, {
              'data-orientation': a.orientation,
              'data-state': e$(d),
              ...l,
              ...i,
              ref: t,
              disabled: c,
              open: d,
              onOpenChange: (e) => {
                e ? o.onItemOpen(n) : o.onItemClose(n);
              },
            }),
          });
        });
      eU.displayName = e_;
      var eV = 'AccordionHeader',
        eW = i.forwardRef((e, t) => {
          let { __scopeAccordion: r, ...n } = e,
            i = eN(eZ, r),
            a = eO(eV, r);
          return (0, el.jsx)(en.WV.h3, {
            'data-orientation': i.orientation,
            'data-state': e$(a.open),
            'data-disabled': a.disabled ? '' : void 0,
            ...n,
            ref: t,
          });
        });
      eW.displayName = eV;
      var ej = 'AccordionTrigger',
        eH = i.forwardRef((e, t) => {
          let { __scopeAccordion: r, ...n } = e,
            i = eN(eZ, r),
            a = eO(ej, r),
            o = eM(ej, r),
            l = eB(r);
          return (0, el.jsx)(eP.ItemSlot, {
            scope: r,
            children: (0, el.jsx)(eh, {
              'aria-disabled': (a.open && !o.collapsible) || void 0,
              'data-orientation': i.orientation,
              id: a.triggerId,
              ...l,
              ...n,
              ref: t,
            }),
          });
        });
      eH.displayName = ej;
      var eF = 'AccordionContent',
        ez = i.forwardRef((e, t) => {
          let { __scopeAccordion: r, ...n } = e,
            i = eN(eZ, r),
            a = eO(eF, r),
            o = eB(r);
          return (0, el.jsx)(ey, {
            role: 'region',
            'aria-labelledby': a.triggerId,
            'data-orientation': i.orientation,
            ...o,
            ...n,
            ref: t,
            style: {
              '--radix-accordion-content-height': 'var(--radix-collapsible-content-height)',
              '--radix-accordion-content-width': 'var(--radix-collapsible-content-width)',
              ...e.style,
            },
          });
        });
      function e$(e) {
        return e ? 'open' : 'closed';
      }
      ez.displayName = eF;
      var eG = r(72280),
        eY = r(23567);
      let eQ = (0, eY.F4)(
          'from{height:0;opacity:0;}to{height:var(--radix-accordion-content-height);opacity:1;}'
        ),
        eJ = (0, eY.F4)(
          'from{height:var(--radix-accordion-content-height);opacity:1;}to{height:0;opacity:0;}'
        ),
        e0 = (0, eY.F4)('from{transform:rotate(0deg);}to{transform:rotate(180deg);}'),
        e2 = (0, eY.F4)('from{transform:rotate(180deg);}to{transform:rotate(0deg);}'),
        e1 = (0, $.Z)(eW, { target: 'e14dnwyb0' })('all:unset;display:flex;'),
        e5 = (0, $.Z)(eH, { target: 'e14dnwyb1' })(
          'all:unset;width:100%;display:flex;justify-content:space-between;align-items:center;cursor:pointer;'
        ),
        e8 = (0, $.Z)(ez, { target: 'e14dnwyb2' })(
          'overflow:hidden;&[data-state="open"]{animation:',
          eQ,
          ' 300ms ease-out forwards;padding-bottom:62px;}&[data-state="closed"]{animation:',
          eJ,
          ' 300ms ease-in forwards;}'
        ),
        e3 = (0, $.Z)('div', { target: 'e14dnwyb3' })(
          'margin-left:16px;color:',
          (e) => {
            let { theme: t } = e;
            return t.colors.text.secondary;
          },
          ';&[data-state="open"]{animation:',
          e0,
          ' 300ms ease forwards;}&[data-state="closed"]{animation:',
          e2,
          ' 300ms ease forwards;}'
        ),
        e4 = (0, i.forwardRef)((e, t) => {
          let { children: r, ...i } = e;
          return (0, n.tZ)(e1, {
            children: (0, n.BX)(e5, {
              ...i,
              ref: t,
              'data-testid': 'protocol-accordion',
              children: [
                r,
                (0, n.tZ)(e3, { children: (0, n.tZ)(eG.v4q, { width: 24, height: 24 }) }),
              ],
            }),
          });
        });
      e4.displayName = 'AccordionTrigger';
      let e6 = (0, i.forwardRef)((e, t) => {
        let { children: r, ...i } = e;
        return (0, n.tZ)(e8, { ...i, ref: t, children: r });
      });
      e6.displayName = 'AccordionContent';
      var e7 = (0, i.memo)((e) => {
          let { migratableProtocol: t, positions: r, children: o } = e,
            { targetChainId: l } = (0, s.Z_)(),
            d = (0, a.dD4)(),
            c = m.FW.getProtocol({ chainId: l, name: t }),
            u = (0, i.useMemo)(
              () =>
                r.reduce((e, t) => {
                  var r;
                  return e + (null !== (r = t.maxUsdValue) && void 0 !== r ? r : 0n);
                }, 0n),
              [r]
            );
          return 0 === r.length
            ? null
            : (0, n.tZ)(eS, {
                type: 'single',
                collapsible: !0,
                children: (0, n.BX)(eU, {
                  value: c.name,
                  children: [
                    (0, n.tZ)(e4, {
                      children: (0, n.BX)(a.Kqy, {
                        direction: 'row',
                        justify: 'space-between',
                        align: 'center',
                        width: '100%',
                        height: 120,
                        children: [
                          (0, n.BX)(a.Kqy, {
                            direction: 'row',
                            gap: 'xs',
                            align: 'center',
                            children: [
                              (0, n.tZ)(a.qEK, {
                                src: c.imageSrc,
                                style: { width: 36, height: 36 },
                              }),
                              (0, n.tZ)(a.xvT.Title.XS, { children: c.name }),
                            ],
                          }),
                          !d &&
                            (0, n.BX)(a.Kqy, {
                              direction: 'row',
                              gap: 'xs',
                              align: 'center',
                              children: [
                                (0, n.BX)(a.xvT.Body.L.Regular, {
                                  color: 'text.secondary',
                                  children: [r.length, ' ', (0, a._6H)(r.length, 'position')],
                                }),
                                (0, n.tZ)(a.xvT.Body.L.Regular, {
                                  color: 'text.tertiary',
                                  children: ' / ',
                                }),
                                (0, n.tZ)(a.xvT.Body.L.Regular, {
                                  color: 'text.secondary',
                                  children: a.$0l.short
                                    .unit('$')
                                    .digits(2)
                                    .trailingZero(!1)
                                    .of(u, 18),
                                }),
                              ],
                            }),
                        ],
                      }),
                    }),
                    (0, n.tZ)(e6, { children: o }),
                    (0, n.tZ)(a.Z0O, {}),
                  ],
                }),
              });
        }),
        e9 = r(78017),
        te = (0, i.memo)((e) => {
          var t, r, o, l;
          let { position: d, onClick: c } = e,
            { targetChainId: u } = (0, s.Z_)(),
            v = (0, y.getValue)(d, 'mostYieldingVault'),
            p = (0, y.getValue)(d, 'migratablePosition'),
            h = m.FW.getProtocol({ name: p.protocol, chainId: u }),
            g = (0, Z.M)(v.address, v.state, v.asset),
            f = (0, a.vmq)({
              chainId: u,
              vaultAddress: v.address,
              allocation: null === (t = v.state) || void 0 === t ? void 0 : t.allocation,
            }),
            b = (0, i.useMemo)(() => {
              var e;
              return (null === (e = v.state) || void 0 === e ? void 0 : e.dailyApy)
                ? (0, N.safeParseNumber)(v.state.dailyApy)
                : void 0;
            }, [null === (r = v.state) || void 0 === r ? void 0 : r.dailyApy]),
            x = (0, i.useMemo)(() => {
              var e;
              return (null === (e = v.state) || void 0 === e ? void 0 : e.fee)
                ? (0, N.safeParseNumber)(v.state.fee)
                : void 0;
            }, [null === (o = v.state) || void 0 === o ? void 0 : o.fee]);
          return (0, n.BX)(a.Zbd, {
            direction: 'column',
            gap: 'm',
            padding: { base: 'm', s: 's' },
            width: '100%',
            children: [
              (0, n.BX)(a.Kqy, {
                direction: 'row',
                gap: 'xs',
                align: 'center',
                children: [
                  (0, n.tZ)(a.qEK, { src: v.asset.logoURI, size: 'big', rounded: !0 }),
                  (0, n.BX)(a.Kqy, {
                    direction: 'column',
                    flex: 1,
                    gap: 'xs',
                    children: [
                      (0, n.tZ)(a.xvT.Title.XS, { children: v.asset.symbol }),
                      (0, n.BX)(a.xvT.Body.S.Regular, {
                        color: 'text.secondary',
                        children: [h.name, ' Supply'],
                      }),
                    ],
                  }),
                ],
              }),
              (0, n.BX)(a.Kqy, {
                direction: 'column',
                gap: 's',
                children: [
                  (0, n.BX)(a.Kqy, {
                    wrap: 'wrap',
                    gap: 's',
                    children: [
                      (0, n.BX)(a.Zbd, {
                        padding: 's',
                        direction: 'column',
                        justify: 'center',
                        background: 'background.tertiary',
                        align: 'center',
                        gap: 'xs',
                        minWidth: '232px',
                        flex: 1,
                        height: '88px',
                        children: [
                          (0, n.tZ)(a.xvT.Body.XXS.Regular, {
                            color: 'text.secondary',
                            children: 'Supply',
                          }),
                          (0, n.BX)(a.Kqy, {
                            direction: 'row',
                            gap: 'xxs',
                            align: 'center',
                            children: [
                              (0, n.tZ)(a.qEK, {
                                src: v.asset.logoURI,
                                style: { width: 20, height: 20 },
                                rounded: !0,
                              }),
                              (0, n.tZ)(a.xvT.Body.XS.Regular, {
                                children: a.$0l.short
                                  .unit(v.asset.symbol)
                                  .readable()
                                  .default('-')
                                  .digits(2)
                                  .of(p.max.value, v.asset.decimals),
                              }),
                              (0, n.tZ)(a.Vp9, {
                                label: a.$0l.short
                                  .unit('$')
                                  .readable()
                                  .default('-')
                                  .digits(2)
                                  .of(d.maxUsdValue, 18),
                              }),
                            ],
                          }),
                        ],
                      }),
                      (0, n.BX)(a.Zbd, {
                        padding: 's',
                        direction: 'column',
                        justify: 'center',
                        align: 'center',
                        gap: 'xs',
                        background: 'background.tertiary',
                        flex: 1,
                        height: '88px',
                        minWidth: '232px',
                        children: [
                          (0, n.BX)(a.xvT.Body.XXS.Regular, {
                            color: 'text.secondary',
                            children: [h.name, ' Supply APY'],
                          }),
                          (0, n.tZ)(a.Kqy, {
                            direction: 'row',
                            gap: 'xxs',
                            children: (0, n.tZ)(a.xvT.Body.XS.Regular, {
                              children: a.$0l.percent
                                .unit('%')
                                .readable()
                                .default('-')
                                .digits(2)
                                .of(p.supplyApy),
                            }),
                          }),
                        ],
                      }),
                    ],
                  }),
                  (0, n.BX)(a.Zbd, {
                    padding: 's',
                    height: '88px',
                    direction: 'column',
                    justify: 'center',
                    align: 'center',
                    gap: 'xs',
                    background: 'background.tertiary',
                    flex: 1,
                    children: [
                      (0, n.tZ)(a.xvT.Body.XXS.Regular, {
                        color: 'text.secondary',
                        children: 'Morpho Supply APY',
                      }),
                      (0, n.BX)(a.Kqy, {
                        direction: 'row',
                        gap: 'xxs',
                        children: [
                          (0, n.BX)(a.xvT.Body.XS.Regular, {
                            children: [
                              'Up to',
                              ' ',
                              a.$0l.percent
                                .unit('%')
                                .readable()
                                .default('-')
                                .digits(2)
                                .of(
                                  null === (l = v.state) || void 0 === l ? void 0 : l.dailyNetApy
                                ),
                            ],
                          }),
                          (0, n.tZ)(e9.w, {
                            RewardsHoverCardProps: {
                              performanceFee: x,
                              apy: b,
                              rewards: g,
                              points: f,
                              variant: 'vault',
                            },
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              (0, n.tZ)(a.zxk, {
                size: 'big',
                onClick: c,
                'data-testid': 'supply-migrate-button',
                children: 'Migrate',
              }),
            ],
          });
        }),
        tt = r(13328),
        tr = r(33214),
        tn = (0, i.memo)(() => {
          let { toggleDialog: e } = (0, a.DAv)(),
            t = (0, a.CPt)(),
            { account: r, modal: v } = (0, s.Z_)(),
            {
              migratablePositionsByProtocol: m,
              hasMigratablePositions: p,
              isLoading: h,
              error: g,
            } = (0, l.w)(),
            y = (0, i.useCallback)(
              (r) => {
                e(
                  (0, n.tZ)(d.Z, {
                    fallback: (0, n.tZ)(o.c, { minHeight: '494px' }),
                    children: (0, n.tZ)(z, { position: r }),
                  }),
                  { maxWidth: t ? void 0 : '900px', fullSize: t }
                );
              },
              [e, t]
            );
          return r.isConnected
            ? h
              ? (0, n.tZ)(tr.i, {})
              : g
                ? (0, n.BX)(Y.Z, {
                    spacing: 'l',
                    children: [(0, n.tZ)(o.c, { minHeight: '600px' }), ';'],
                  })
                : p
                  ? (0, n.tZ)(Y.Z, {
                      spacing: 'l',
                      children: (0, n.tZ)(a.Kqy, {
                        direction: 'column',
                        width: '100%',
                        maxWidth: '1112px',
                        children: Object.entries(null != m ? m : {}).map((e) => {
                          let [t, r] = e;
                          return (0, n.tZ)(
                            e7,
                            {
                              migratableProtocol: t,
                              positions: r,
                              children: (0, n.tZ)(G, {
                                children: r.map((e, r) =>
                                  (0, n.tZ)(
                                    a.Kqy,
                                    {
                                      minWidth: '210px',
                                      children: (0, n.tZ)(te, { position: e, onClick: () => y(e) }),
                                    },
                                    ''.concat(t, '-').concat(r, '-migratable-position')
                                  )
                                ),
                              }),
                            },
                            t
                          );
                        }),
                      }),
                    })
                  : (0, n.tZ)(Y.Z, {
                      spacing: { base: 'l', 'content-l': 'm' },
                      children: (0, n.BX)(a.Kqy, {
                        direction: { base: 'row', 'content-l': 'column' },
                        width: '100%',
                        maxWidth: '1086px',
                        gap: 'm',
                        children: [
                          (0, n.tZ)(u.Z, {}),
                          (0, n.BX)(a.Kqy, {
                            direction: 'column',
                            width: '100%',
                            gap: 'm',
                            children: [(0, n.tZ)(tt.a, {}), (0, n.tZ)(c.Z, {})],
                          }),
                        ],
                      }),
                    })
            : (0, n.tZ)(Y.Z, {
                spacing: 'm',
                children: (0, n.BX)(a.Kqy, {
                  direction: 'column',
                  gap: 'm',
                  maxWidth: '702px',
                  width: '100%',
                  children: [
                    (0, n.tZ)(a._Lo, {
                      onClick: () => v.open(),
                      width: 'full',
                      children: 'Connect Wallet',
                    }),
                    (0, n.tZ)(u.Z, {}),
                  ],
                }),
              });
        });
    },
    34571: function (e, t, r) {
      'use strict';
      r.d(t, {
        Z: function () {
          return l;
        },
      });
      var n = r(78286),
        i = r(58258),
        a = r(54655),
        o = r(27349),
        l = (0, i.memo)((e) => {
          let {
              netApy: t,
              apy: r,
              performanceFee: l,
              rewards: s,
              variant: d,
              points: c,
              isSimulated: u,
              isHoverable: v = !0,
              TextVariant: m = a.xvT.Body.XS.Regular,
              asset: p,
              withBackgroundEffect: h = !0,
            } = e,
            g = (0, i.useMemo)(() => a.$0l.percent.digits(2).unit('%').of(t, 18), [t]);
          return g
            ? (0, n.tZ)(a.KNv, {
                withBackgroundEffect: h,
                hoverCardContent: (0, n.tZ)(o.Z, {
                  netApy: t,
                  apy: r,
                  performanceFee: l,
                  rewards: s,
                  variant: d,
                  points: c,
                  asset: p,
                }),
                isDisabled: !v,
                padding: '0 11px 0 14px',
                children:
                  g &&
                  (0, n.BX)(a.Kqy, {
                    gap: 2,
                    align: 'center',
                    children: [
                      (0, n.tZ)(a.ZT$, {
                        TextVariant: m,
                        isSimulated: u,
                        display: 'flex',
                        alignItems: 'center',
                        lineHeight: 'normal',
                        color: 'text.body',
                        children: g,
                      }),
                      (null == s ? void 0 : s.length)
                        ? (0, n.tZ)(a.JO$, { icon: 'RewardsGradient20' })
                        : null,
                      (null == c ? void 0 : c.length)
                        ? (0, n.tZ)(a.JO$, { icon: 'PointsGradient20' })
                        : null,
                    ],
                  }),
              })
            : null;
        });
    },
    99503: function (e, t, r) {
      'use strict';
      r.d(t, {
        Z: function () {
          return P;
        },
      });
      var n = r(78286),
        i = r(58258),
        a = r(54655),
        o = r(38819);
      let l = (0, o.Z)(a.Kqy, { target: 'ecpepk30' })(
        'padding:',
        (e) => {
          let { theme: t } = e;
          return t.padding.s;
        },
        ';gap:12px;'
      );
      var s = r(73478),
        d = r(55412),
        c = r(3245),
        u = r(95413),
        v = r(60059);
      function m() {
        let e = (0, d._)([
          '\n  query GetCreatorVaults($where: VaultFilters) {\n    vaults(where: $where) {\n      items {\n        ...simpleVaultFields\n        state {\n          id\n          totalAssetsUsd\n        }\n        chain {\n          id\n          network\n        }\n      }\n    }\n  }\n  ',
          '\n',
        ]);
        return (
          (m = function () {
            return e;
          }),
          e
        );
      }
      let p = {},
        h = (0, c.Ps)(m(), v.U);
      var g = r(6423);
      let y = (0, o.Z)(a.Kqy, { target: 'emgz5yv0' })('flex-direction:column;max-height:200px;'),
        f = (0, o.Z)(a.Kqy, { target: 'emgz5yv1' })(
          'width:240px;padding:4px ',
          (e) => {
            let { theme: t } = e;
            return t.spacing.s;
          },
          ';border-radius:8px;cursor:pointer;transition:background-color 0.15s;width:100%;&:hover{background-color:',
          (e) => {
            let { theme: t } = e;
            return t.colors.constant.dark;
          },
          ';}'
        );
      var b = (0, i.memo)(() =>
        (0, n.tZ)(y, {
          children: Array.from({ length: 4 }).map((e, t) =>
            (0, n.tZ)(
              f,
              {
                align: 'center',
                children: (0, n.tZ)(a.OdW, { width: '100%', height: 21, borderRadius: '8px' }, t),
              },
              t
            )
          ),
        })
      );
      let x = (e) =>
        e.slice().sort((e, t) => {
          var r, n, i, a;
          let o =
              null !== (i = null === (r = e.state) || void 0 === r ? void 0 : r.totalAssetsUsd) &&
              void 0 !== i
                ? i
                : 0n,
            l =
              null !== (a = null === (n = t.state) || void 0 === n ? void 0 : n.totalAssetsUsd) &&
              void 0 !== a
                ? a
                : 0n;
          return l > o ? 1 : l < o ? -1 : 0;
        });
      var Z = (0, i.memo)((e) => {
          let { creatorName: t, chainId: r } = e,
            {
              data: o,
              error: l,
              loading: d,
            } = (function (e) {
              let t = { ...p, ...e };
              return u.aM(h, t);
            })({
              variables: {
                where: { search: t, chainId_in: [r], totalAssetsUsd_gte: 1, whitelisted: !0 },
              },
              skip: !t,
            }),
            c = (0, i.useMemo)(() => {
              var e;
              return x(null !== (e = null == o ? void 0 : o.vaults.items) && void 0 !== e ? e : []);
            }, [null == o ? void 0 : o.vaults.items]);
          return d
            ? (0, n.tZ)(b, {})
            : l
              ? (0, n.tZ)(a.xvT.Body.XS.Regular, {
                  color: 'text.interactive.error',
                  children: 'Error loading vaults',
                })
              : (0, n.tZ)(a.xrM, {
                  children: (0, n.tZ)(y, {
                    children:
                      0 === c.length
                        ? (0, n.BX)(a.xvT.Body.S.Regular, {
                            color: 'text.body',
                            children: ['No vaults found for this curator on ', r, '.'],
                          })
                        : c.map((e) => {
                            let {
                                id: t,
                                name: r,
                                address: i,
                                state: o,
                                metadata: l,
                                chain: { network: d },
                              } = e,
                              c = (0, g.Q)({ chainName: d, vaultAddress: i, vaultName: r });
                            return (0, n.tZ)(
                              s.h,
                              {
                                href: c,
                                prefetch: !0,
                                children: (0, n.BX)(f, {
                                  justify: 'space-between',
                                  gap: 'xs',
                                  align: 'center',
                                  children: [
                                    (0, n.BX)(a.Kqy, {
                                      gap: 4,
                                      align: 'center',
                                      children: [
                                        (0, n.tZ)(a.qEK, {
                                          src: null == l ? void 0 : l.image,
                                          size: 'small',
                                        }),
                                        (0, n.tZ)(a.xvT.Body.XXS.Regular, {
                                          shorten: 1,
                                          color: 'text.body',
                                          children: r,
                                        }),
                                      ],
                                    }),
                                    o &&
                                      (0, n.tZ)(a.xvT.Body.XXS.Regular, {
                                        color: 'text.body',
                                        children: a.$0l.short
                                          .unit('$')
                                          .digits(2)
                                          .of(o.totalAssetsUsd),
                                      }),
                                  ],
                                }),
                              },
                              t
                            );
                          }),
                  }),
                });
        }),
        w = (0, i.memo)((e) => {
          let { creatorName: t, riskCurators: r, chainId: i } = e;
          return 0 !== r.length && t
            ? (0, n.BX)(l, {
                direction: 'column',
                children: [
                  (0, n.tZ)(a.Kqy, {
                    gap: 's',
                    children: r.map((e) => {
                      let { name: t, image: r } = e;
                      return (0, n.BX)(
                        a.Kqy,
                        {
                          direction: 'row',
                          gap: 4,
                          align: 'center',
                          children: [
                            (0, n.tZ)(a.qEK, { src: r, size: 'medium' }),
                            (0, n.tZ)(a.xvT.Body.XS.Regular, { color: 'text.body', children: t }),
                          ],
                        },
                        t
                      );
                    }),
                  }),
                  (0, n.tZ)(Z, { creatorName: t, chainId: i }),
                ],
              })
            : null;
        }),
        P = (0, i.memo)((e) => {
          var t;
          let {
            curators: r,
            creatorAddress: i,
            TextVariant: o = a.xvT.Body.XS.Regular,
            isSimulated: l,
            isHoverable: s = !0,
            withLabel: d = !0,
            chainId: c,
          } = e;
          return r && 0 !== r.length
            ? (0, n.tZ)(a.KNv, {
                hoverCardContent:
                  i &&
                  (0, n.tZ)(w, {
                    creatorName: null === (t = r[0]) || void 0 === t ? void 0 : t.name,
                    riskCurators: r,
                    chainId: c,
                  }),
                isDisabled: !i || !s,
                children: (0, n.tZ)(a.Kqy, {
                  direction: 'row',
                  gap: 'xs',
                  align: 'center',
                  children: r.map((e, t) => {
                    let { name: r, image: i } = e;
                    return (0, n.BX)(
                      a.Kqy,
                      {
                        direction: 'row',
                        gap: 4,
                        align: 'center',
                        children: [
                          i && (0, n.tZ)(a.qEK, { src: i, size: 'medium' }),
                          d &&
                            (0, n.tZ)(a.ZT$, {
                              lineHeight: 'normal',
                              isSimulated: l,
                              TextVariant: o,
                              color: 'text.body',
                              children: r,
                            }),
                        ],
                      },
                      t
                    );
                  }),
                }),
              })
            : null;
        });
    },
    55872: function (e, t, r) {
      'use strict';
      r.d(t, {
        m: function () {
          return g;
        },
      });
      var n = r(78286),
        i = r(58258),
        a = r(54655),
        o = r(17965),
        l = r(40252),
        s = r(35047),
        d = r(50825),
        c = r(38819);
      let u = (0, c.Z)('div', { target: 'eyr4h7c0' })(
          'min-width:220px;max-width:300px;padding:',
          (e) => {
            let { theme: t } = e;
            return t.spacing.s;
          },
          ' 0;'
        ),
        v = (0, c.Z)(a.Kqy, { target: 'eyr4h7c1' })(
          'padding:0px ',
          (e) => {
            let { theme: t } = e;
            return t.spacing.s;
          },
          ';min-height:34px;'
        ),
        m = (0, c.Z)(v, { target: 'eyr4h7c2' })(
          'padding:10px ',
          (e) => {
            let { theme: t } = e;
            return t.spacing.s;
          },
          ';'
        ),
        p = (0, c.Z)(a.xvT.Body.XXS.Regular, { target: 'eyr4h7c3' })('display:contents;');
      var h = (0, i.memo)((e) => {
          let { className: t, collateralExposure: r, targetChainId: c } = e,
            h = (0, i.useMemo)(
              () =>
                Array.from(r.lltvs)
                  .map((e) =>
                    ''.concat(a.$0l.percent.unit('%').trailingZero(!1).digits(1).of(e, 18))
                  )
                  .join(', '),
              [r]
            ),
            g = (0, i.useMemo)(() => {
              let e = new Set();
              return Array.from(r.oracles)
                .map((e) => {
                  let t = 'string' == typeof e,
                    r = t ? e : e.address;
                  return {
                    label: t
                      ? (0, a.GQT)(e)
                      : e.type === o.OracleType.Unknown
                        ? (0, a.GQT)(r)
                        : (0, s.formatLongString)((0, a.pTE)(e), 30) || (0, a.GQT)(r),
                    url: l.ChainUtils.getExplorerAddressUrl(c, r),
                    address: r,
                  };
                })
                .filter((t) => {
                  let r = ''.concat(t.label, '-').concat(t.url, '-').concat(t.address);
                  return !e.has(r) && (e.add(r), !0);
                });
            }, [r.oracles, c]);
          return (0, n.tZ)(u, {
            className: t,
            children: (0, n.BX)(a.Kqy, {
              direction: 'column',
              children: [
                (0, n.BX)(v, {
                  align: 'center',
                  justify: 'space-between',
                  children: [
                    (0, n.tZ)(a.xvT.Body.XXS.Regular, {
                      color: 'text.body',
                      children: 'Collateral',
                    }),
                    (0, n.BX)(a.Kqy, {
                      align: 'center',
                      gap: 4,
                      children: [
                        (0, n.tZ)(a.qEK, { src: r.token.logoURI, size: 'small' }),
                        (0, n.tZ)(p, {
                          children: r.token.symbol
                            ? (0, s.formatLongString)(r.token.symbol, 35)
                            : '-',
                        }),
                      ],
                    }),
                  ],
                }),
                (0, n.tZ)(a.Z0O, {}),
                (0, n.BX)(v, {
                  align: 'center',
                  justify: 'space-between',
                  children: [
                    (0, n.tZ)(a.xvT.Body.XXS.Regular, { color: 'text.body', children: 'LLTV' }),
                    (0, n.tZ)(a.xvT.Body.XXS.Regular, { children: h }),
                  ],
                }),
                (0, n.tZ)(a.Z0O, {}),
                (0, n.BX)(m, {
                  align: 'center',
                  justify: 'space-between',
                  gap: 's',
                  children: [
                    (0, n.tZ)(a.xvT.Body.XXS.Regular, { children: 'Oracle' }),
                    (0, n.tZ)(a.Kqy, {
                      direction: 'column',
                      gap: 5,
                      align: 'end',
                      children: g.map((e, t) =>
                        (0, n.tZ)(
                          d.Z,
                          {
                            href: e.url,
                            mode: 'external',
                            buttonProps: { variant: 'ghost', size: 'small', label: e.label },
                          },
                          'oracleLink_'.concat(t)
                        )
                      ),
                    }),
                  ],
                }),
              ],
            }),
          });
        }),
        g = (0, i.memo)((e) => {
          let {
              className: t,
              collateralExposures: r,
              targetChainId: o,
              extraInfo: l,
              align: s = 'left',
              maxTokensCount: d,
            } = e,
            c = (0, i.useMemo)(
              () =>
                r.map((e) => ({
                  hoverCardContent: (0, n.tZ)(h, { collateralExposure: e, targetChainId: o }),
                  logoUrl: e.token.logoURI,
                })),
              [r, o]
            );
          return (0, n.tZ)(a.$xj, {
            className: t,
            items: c,
            extraInfo: l,
            align: s,
            maxTokensCount: d,
          });
        });
    },
    12472: function (e, t, r) {
      'use strict';
      var n = r(78286),
        i = r(58258),
        a = r(4565),
        o = r(54655),
        l = r(35047),
        s = r(55872),
        d = r(73478),
        c = r(89991),
        u = r(9834),
        v = r(16820),
        m = r(6423),
        p = r(78017);
      t.Z = (0, i.memo)((e) => {
        var t, r, h;
        let { initialPosition: g, finalPosition: y, vault: f } = e,
          { targetChain: b } = (0, c.Z_)(),
          x = (0, i.useMemo)(() => (0, u.m)(f.allocation), [f.allocation]),
          Z = (0, i.useMemo)(
            () => o.$0l.percent.digits(2).unit('%').of(f.dailyNetApy),
            [f.dailyNetApy]
          ),
          w = (0, i.useMemo)(
            () => (0, m.Q)({ chainName: b.name, vaultAddress: f.address, vaultName: f.name }),
            [f.address, f.name, b.name]
          ),
          P = (0, i.useMemo)(
            () => ((0, l.isDefined)(f.warnings) ? (0, o.Myy)(f.warnings) : void 0),
            [f.warnings]
          ),
          A = (0, i.useMemo)(() => {
            let e = (0, o.Uaj)(f.name);
            return e ? (0, l.formatLongString)(e, 22) : '';
          }, [f.name]),
          X = (0, i.useMemo)(() => {
            if (f.dailyApy) return (0, a.safeParseNumber)(f.dailyApy);
          }, [f.dailyApy]),
          T = (0, i.useMemo)(() => {
            if (f.fee) return (0, a.safeParseNumber)(f.fee);
          }, [f.fee]);
        return (0, n.BX)(o.soA.Root, {
          width: '100%',
          height: '257px',
          children: [
            (0, n.BX)(o.soA.Header, {
              children: [
                (0, n.tZ)(o.qEK, { size: 'large', src: f.asset.logoURI }),
                (0, n.BX)(o.Kqy, {
                  direction: 'column',
                  gap: 'xs',
                  children: [
                    (0, n.tZ)(o.ua7, {
                      content: 'Go to vault.',
                      children: (0, n.tZ)(o.Kqy, {
                        children: (0, n.tZ)(d.h, {
                          href: w,
                          target: '_blank',
                          children: (0, n.tZ)(o.ZT$, {
                            TextVariant: o.xvT.Title.XS,
                            underlineOnHover: !0,
                            children: A,
                          }),
                        }),
                      }),
                    }),
                    (0, n.BX)(o.Kqy, {
                      direction: 'row',
                      align: 'center',
                      gap: 4,
                      children: [
                        null === (t = f.curators) || void 0 === t
                          ? void 0
                          : t.map((e) =>
                              (0, n.tZ)(
                                o.Vp9,
                                {
                                  variant: 'main',
                                  label: e.name,
                                  startIcon: (0, n.tZ)(o.qEK, {
                                    src: e.image,
                                    size: 'small',
                                    style: { width: 16, height: 16 },
                                  }),
                                },
                                e.name
                              )
                            ),
                        (0, n.tZ)(o.mUV, {
                          size: 'small',
                          variant: 'ghost',
                          toCopy: f.address,
                          tooltipMessage: 'Copy Vault Address.',
                          toastMessage: 'Vault address copied to clipboard.',
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            (0, n.BX)(o.soA.List, {
              children: [
                (0, n.tZ)(o.soA.ListItem, {
                  label: 'My Position ('.concat(
                    (0, l.formatLongString)(null !== (r = f.asset.symbol) && void 0 !== r ? r : ''),
                    ')'
                  ),
                  value: (0, n.tZ)(o.soA.ValueChange, {
                    initialProps: { value: g },
                    finalProps: { value: y },
                    formatter: (e) =>
                      (0, v.sL)({
                        price: f.asset.price,
                        amount: e,
                        decimals: f.asset.decimals,
                        withTrailingZero: !1,
                      }),
                  }),
                }),
                (0, n.tZ)(o.soA.ListItem, {
                  label: 'APY',
                  value: (0, n.BX)(o.Kqy, {
                    gap: 2,
                    direction: 'row',
                    align: 'center',
                    children: [
                      (0, n.tZ)(o.soA.Value, { value: Z }),
                      (0, n.tZ)(p.w, {
                        RewardsHoverCardProps: {
                          performanceFee: T,
                          apy: X,
                          rewards: f.rewards,
                          points: null !== (h = f.points) && void 0 !== h ? h : [],
                          variant: 'vault',
                        },
                      }),
                    ],
                  }),
                }),
                (0, n.tZ)(o.soA.ListItem, {
                  label: 'Collateral Exposure',
                  value: (0, n.tZ)(s.m, {
                    align: 'right',
                    collateralExposures: x,
                    extraInfo: (0, n.tZ)(o.aNP, { ...P }),
                    targetChainId: b.id,
                    maxTokensCount: 5,
                  }),
                }),
              ],
            }),
          ],
        });
      });
    },
    34896: function (e, t, r) {
      'use strict';
      r.d(t, {
        H: function () {
          return a;
        },
      });
      var n = r(45842),
        i = r(82803);
      let a = (e) => {
        switch (e.type) {
          case i.H.InterfaceOperationType.repay:
          case i.H.InterfaceOperationType.borrow:
          case i.H.InterfaceOperationType.metaMorphoDeposit:
          case i.H.InterfaceOperationType.metaMorphoWithdraw:
            return e.assets > 0n || e.shares > 0n;
          case i.H.InterfaceOperationType.withdrawCollateral:
          case i.H.InterfaceOperationType.supplyCollateral:
            return e.assets > 0n;
          case i.H.InterfaceOperationType.supplyCollateralBorrow:
          case i.H.InterfaceOperationType.withdrawCollateralRepay:
            return e.collateralAssets > 0n || e.loanAssets > 0n || e.loanShares > 0n;
          case i.H.InterfaceOperationType.zap:
            return e.collateralAssets > 0n && e.marketTo !== n.DR;
          case i.H.InterfaceOperationType.migrateSupply:
            return e.assets > 0n;
          default:
            throw Error('Not implemented');
        }
      };
    },
    89805: function (e, t, r) {
      'use strict';
      r.d(t, {
        _: function () {
          return v;
        },
      });
      var n = r(58258),
        i = r(68612),
        a = r(40252),
        o = r(35047),
        l = r(51196),
        s = r(89991),
        d = r(34896),
        c = r(57054);
      let u = a.MathLib.MAX_UINT_160,
        v = function (e, t, r) {
          var v;
          let m = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3],
            { account: p } = (0, s.Z_)(),
            h =
              null !== (v = null == p ? void 0 : p.address) && void 0 !== v
                ? v
                : '0x0000000000000000000000000000000000000001',
            g = (0, n.useMemo)(
              () =>
                m
                  ? e &&
                    (0, l.produceImmutable)(e, (e) => {
                      var t, r;
                      (0, o.keys)(e.tokens).forEach((t) => {
                        var r, n, o, l;
                        let s =
                          null !==
                            (l = (n =
                              null !== (o = (r = e.holdings)[h]) && void 0 !== o ? o : (r[h] = {}))[
                              t
                            ]) && void 0 !== l
                            ? l
                            : (n[t] = new a.Holding({
                                user: h,
                                token: t,
                                balance: 0n,
                                erc20Allowances: {
                                  morpho: 0n,
                                  permit2: 0n,
                                  'bundler3.generalAdapter1': i.zL,
                                },
                                permit2BundlerAllowance: { amount: 0n, expiration: 0n, nonce: 0n },
                              }));
                        (s.canTransfer = !0), (s.balance += u);
                      }),
                        (0, o.keys)(e.markets).forEach((t) => {
                          var r, n, i, o;
                          (null !==
                            (o = (n =
                              null !== (i = (r = e.positions)[h]) && void 0 !== i
                                ? i
                                : (r[h] = {}))[t]) &&
                            void 0 !== o) ||
                            (n[t] = new a.Position({
                              user: h,
                              marketId: t,
                              supplyShares: 0n,
                              borrowShares: 0n,
                              collateral: 0n,
                            }));
                        }),
                        (null !== (r = (t = e.users)[h]) && void 0 !== r) ||
                          (t[h] = new a.User({
                            address: h,
                            isBundlerAuthorized: !1,
                            morphoNonce: 0n,
                          }));
                    })
                  : e,
              [e, m, h]
            ),
            y = (0, n.useMemo)(() => ((0, d.H)(t) ? [t] : []), [t]),
            [f, b] = (0, c.b)(g, y, r, h),
            { steps: x, exceededToken: Z } = (0, n.useMemo)(() => {
              let e;
              return m
                ? {
                    steps:
                      h &&
                      (null == f
                        ? void 0
                        : f.map((r) =>
                            (0, l.produceImmutable)(r, (r) => {
                              var n;
                              let i = {};
                              (0, o.values)(
                                null !== (n = r.holdings[h]) && void 0 !== n ? n : {}
                              ).forEach((n) => {
                                if (!n) return;
                                let l = r.getBundleAssetBalances(
                                    h,
                                    n.token,
                                    a.DEFAULT_SLIPPAGE_TOLERANCE
                                  ),
                                  s = n.balance - u,
                                  { virtualFinalBalance: d, virtualDealtBalance: c } = (0,
                                  o.values)(null == l ? void 0 : l.allocations)
                                    .filter(o.isDefined)
                                    .reduce(
                                      (e, r) => {
                                        var n;
                                        let { type: i, srcAmount: a, dstAmount: o } = r;
                                        return (
                                          !(o > 0n) ||
                                            (null === (n = t.options.disabledPeripheralTokens) ||
                                            void 0 === n
                                              ? void 0
                                              : n.has(i)) ||
                                            ((e.virtualFinalBalance += o),
                                            (e.virtualDealtBalance += (u * o) / a)),
                                          e
                                        );
                                      },
                                      { virtualFinalBalance: 0n, virtualDealtBalance: 0n }
                                    ),
                                  v = r.tryGetToken(n.token);
                                d < c &&
                                  v &&
                                  (!e || (null == v ? void 0 : v.address) === a.NATIVE_ADDRESS) &&
                                  (e = new a.Token(v)),
                                  (i[n.token] = new a.Holding({
                                    ...n,
                                    balance: a.MathLib.max(0n, s),
                                  }));
                              }),
                                (r.holdings[h] = i);
                            })
                          )),
                    exceededToken: e,
                  }
                : { steps: f, exceededToken: void 0 };
            }, [t.options.disabledPeripheralTokens, m, h, f]);
          return [x, b, h, Z];
        };
    },
    34550: function (e, t, r) {
      'use strict';
      var n = r(58258),
        i = r(3100);
      t.Z = (e, t, r, a, o, l, s, d, c, u, v) =>
        (0, n.useMemo)(
          () =>
            v
              ? ''.concat((0, i.Z)(e), ' disabled')
              : t
                ? 'Enter an amount'
                : u
                  ? 'Wrong network'
                  : !r && a
                    ? 'Editing'
                    : d && c
                      ? 'Could not fetch block'
                      : o ||
                        (s
                          ? s.message
                          : 0 !== l.length && (1 !== l.length || r)
                            ? 'Finalize bundle'
                            : 'Review '.concat(e)),
          [t, a, c, r, l.length, d, s, o, u, e, v]
        );
    },
    25596: function (e, t, r) {
      'use strict';
      r.d(t, {
        oP: function () {
          return l;
        },
      });
      var n = r(78286),
        i = r(58258),
        a = r(12556),
        o = r(54655);
      let l = (e) => {
        let { address: t, error: r, isWrongChain: n, chainId: o } = e,
          { isReadOnly: l, message: s } = (0, a.WW)({ chainId: o, address: t });
        return (0, i.useMemo)(
          () =>
            l
              ? { message: s, textProps: { whiteSpace: 'break-spaces' } }
              : r
                ? { message: r, textProps: { wordBreak: 'break-all' } }
                : n
                  ? { message: 'Please switch to the correct network', textProps: {} }
                  : void 0,
          [r, n, l, s]
        );
      };
      t.ZP = (e) => {
        let { address: t, error: r, isWrongChain: i, chainId: a } = e,
          s = l({ address: t, error: r, isWrongChain: i, chainId: a });
        if (s) return (0, n.tZ)(o.xvT.Body.XXXS.Regular, { ...s.textProps, children: s.message });
      };
    },
    76280: function (e, t, r) {
      'use strict';
      r.d(t, {
        q: function () {
          return i;
        },
      });
      var n = r(58258);
      let i = (e) =>
        (0, n.useMemo)(() => {
          if (!e) return;
          let t = [],
            r = [],
            n = [],
            { address: i, asset: a, state: o } = e;
          return (
            t.push(i),
            r.push(i, a.address),
            (null == o ? void 0 : o.allocation) &&
              o.allocation.forEach((e) => {
                var t;
                let { market: i } = e;
                n.push(i.uniqueKey);
                let a = null === (t = i.collateralAsset) || void 0 === t ? void 0 : t.address;
                a && r.push(a);
              }),
            { vaults: t, tokens: r, marketIds: n }
          );
        }, [e]);
    },
  },
  function (e) {
    e.O(
      0,
      [
        9913, 1811, 3960, 3261, 3918, 5852, 7287, 6929, 3391, 3515, 4516, 3613, 1594, 4655, 825,
        5962, 9626, 7567, 3214, 6269, 8804, 1744,
      ],
      function () {
        return e((e.s = 3699));
      }
    ),
      (_N_E = e.O());
  },
]);
